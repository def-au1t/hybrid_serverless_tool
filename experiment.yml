clusters:
  - name: "cluster-2"
    kubeconfig: "kubeconfig_cluster_2"

apps:
  - name: "cpu-1"
    image: "docker.io/jaceken/msc-cpu-processing-1"
    env:
      - name: "CPU_2_ADDRESS"
        value: "default.svc.cluster.local"
      - name: "CPU_3_ADDRESS"
        value: "default.svc.cluster.local"
      - name: "WORKLOAD"
        value: "10000000"
    resource_limits:
      cpu: "100m"
      memory: "128Mi"
    knative_limits:
      min_scale: 1
      max_scale: 5
      target_concurrency: 1

scenarios:
  - name: "scenario-1"
    stages:
      - name: "stage-1"
        duration: 100
        apps:
          - name: "cpu-1"
            cluster: "cluster-2"
            env:
              - name: "WORKLOAD"
                value: "20000000"
